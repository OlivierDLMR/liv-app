
<div class="subnav">
    <button color="primary" routerLink="/login" mat-icon-button aria-label="return to login">
       <mat-icon>navigate_before</mat-icon>
    </button>
    <h1>Creer un compte</h1>
 </div>
 <form [formGroup]="accountForm" (ngSubmit)="onSubmit(accountForm)">
    <div class="mb-2">
       <label class="form-label">Prénom</label>
       <input formControlName="firstname" type="text" class="form-control">
       <p *ngIf="accountForm.get('firstname').hasError('minlength') &&(accountForm.get('firstname').touched)" class="form-error">
         Min. 2 caractères
      </p>
    </div>
    <div class="mb-2">
       <label class="form-label">Nom</label>
       <input formControlName="lastname" type="text" class="form-control">
       <p *ngIf="(accountForm.get('lastname').hasError('minlength') && accountForm.get('lastname').touched)" class="form-error">
          Min. 2 caractères
       </p>
    </div>
   
    <div class="mb-2">
       <label class="form-label">Email</label>
       <input formControlName="email" type="text" class="form-control">
       <p *ngIf="(accountForm.get('email').hasError('email') && accountForm.get('email').touched)" class="form-error">
         adresse mail invalide. 
      </p>
      <p *ngIf="accountForm.get('email').hasError('required') && accountForm.get('email').touched" class="form-error">
            email obligatoire
      </p>
           
    </div>

    <div class="mb-2">
        <label class="form-label">User de connexion</label>
        <input formControlName="user" type="text" class="form-control">
        <p *ngIf="accountForm.get('user').hasError('minlength') && accountForm.get('user').touched" class="form-error">
         Renseignez un user valide
      </p>
     </div>

     <div class="mb-2">
        <label class="form-label">Mot de passe</label>
        <input formControlName="password" ngModel type="password" class="form-control">
        <p *ngIf="accountForm.get('password').hasError('minlength') && (accountForm.get('password').touched)" class="form-error">
         Renseignez un mot de passe valide svp
      </p>
      <!-- <p *ngIf="accountForm.get('password').hasError('minlength') && submitted)" class="form-error">
         Renseignez un mot de passe valide svp
      </p> -->
      <p *ngIf="f.password.errors && submitted" class="form-error">
         Renseignez un mot de passe valide svp val
      </p>
      
      <p>submitted : {{submitted}}</p>
     </div>

    <div class="mt-3">
       <button type="submit" mat-flat-button color="primary" type="submit">Créer compte</button>
    </div>
 </form>