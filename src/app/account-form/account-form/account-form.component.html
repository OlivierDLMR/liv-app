




<form class="container-fluid" [formGroup]="accountForm" (ngSubmit)="onSubmit(accountForm)">
  <div class=" row justify-content-center">
    <div class="mt-2 col-md-5 col-md-offset-5">
      <button color="bs-white" routerLink="/login" mat-icon-button aria-label="return to login">
        <i class="fas fa-arrow-left iconeBack "> </i>
      </button>
      <h1> Créer un compte</h1>
      <div class="mb-2">
        <label class="form-label">Prénom</label>
        <input formControlName="firstname" type="text" class="form-control">
        <p *ngIf="(accountForm.get('firstname').hasError('required') && accountForm.get('firstname').touched)
                  ||(accountForm.controls.firstname.errors && submitted)"
           class="form-error">
          Merci de saisir votre prénom
        </p>

      </div>
      <div class="mb-2">
        <label class="form-label">Nom</label>
        <input formControlName="lastname" type="text" class="form-control">
        <p *ngIf="(accountForm.get('lastname').hasError('required') && accountForm.get('lastname').touched)
                  || (accountForm.controls.lastname.errors && submitted)" class="form-error"
           class="form-error">
          Merci de saisir votre nom
        </p>
      </div>

      <div class="mb-2">
        <label class="form-label">Email</label>
        <input formControlName="email" type="text" class="form-control">
        <p *ngIf="(accountForm.get('email').hasError('email') && accountForm.get('email').touched)
               || (accountForm.get('email').hasError('required') && accountForm.get('email').touched)
               || (accountForm.controls.email.errors && submitted)"
           class="form-error">
          Merci de saisir une adresse mail valide.
        </p>
      </div>

      <div class="mb-2">
        <label class="form-label">User de connexion</label>
        <input formControlName="user" type="text" class="form-control">
        <p *ngIf="(accountForm.get('user').hasError('required') && accountForm.get('user').touched)
               || (accountForm.get('user').hasError('minlength') && accountForm.get('user').touched)
               || (accountForm.controls.user.errors && submitted)"
           class="form-error">
          Merci de saisir un user de connexion avec au moins 5 caractères
        </p>
      </div>

      <div class="mb-2">
        <label class="form-label">Mot de passe</label>
        <input formControlName="password" ngModel type="password" class="form-control">
        <p *ngIf="(accountForm.get('password').hasError('required')  && accountForm.get('password').touched)
               || (accountForm.get('password').hasError('minlength') && accountForm.get('password').touched)
               || (accountForm.controls.password.errors) && (submitted)"
           class="form-error">
          Merci de saisir un mot de passe avec au moins 8 caractères
        </p>

      </div>

      <div class="mt-3">
        <button type="submit" mat-flat-button color="primary" type="submit">Créer compte</button>
      </div>
    </div>
  </div>


</form>
